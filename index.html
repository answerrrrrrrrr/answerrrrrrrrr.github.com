<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  <link href="//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">



<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=0.5.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="Answerrrrrrrrr" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=0.5.0" />






<meta name="description" content="ãªãœãƒ™ã‚¹ãƒˆã‚’å°½ãã—ãŸã®ã‹">
<meta property="og:type" content="website">
<meta property="og:title" content="Answerrrrrrrrr">
<meta property="og:url" content="http://answerrrrrrrrr.io/index.html">
<meta property="og:site_name" content="Answerrrrrrrrr">
<meta property="og:description" content="ãªãœãƒ™ã‚¹ãƒˆã‚’å°½ãã—ãŸã®ã‹">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Answerrrrrrrrr">
<meta name="twitter:description" content="ãªãœãƒ™ã‚¹ãƒˆã‚’å°½ãã—ãŸã®ã‹">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Answerrrrrrrrr </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Answerrrrrrrrr</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/22/mac-mongod/" itemprop="url">
                  Mac å®‰è£… mongodb
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-09-22T20:35:03+08:00" content="2016-09-22">
              2016-09-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Mac/" itemprop="url" rel="index">
                    <span itemprop="name">Mac</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/22/mac-mongod/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/22/mac-mongod/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Mac ä¸‹æŒ‰ç…§<a href="https://docs.mongodb.com/manual/mongo/" target="_blank" rel="external">å®˜ç½‘è¯´æ˜</a> å®‰è£… mongodb å¹¶é…ç½®å¥½<code>PATH</code>åç›´æ¥<code>mongo</code>ä¼šæŠ¥é”™ï¼š</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">$ brew <span class="keyword">install</span> mongodb</span><br><span class="line">...</span><br><span class="line">$ <span class="keyword">export</span> <span class="keyword">PATH</span>=$<span class="keyword">PATH</span>:/usr/<span class="keyword">local</span>/Cellar/mongodb/<span class="number">3.2</span><span class="number">.9</span>/<span class="keyword">bin</span></span><br><span class="line">$ mongo</span><br><span class="line">MongoDB shell <span class="keyword">version</span>: <span class="number">3.2</span><span class="number">.9</span></span><br><span class="line">connecting <span class="keyword">to</span>: <span class="keyword">test</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span>T20:<span class="number">15</span>:<span class="number">48.787</span>+<span class="number">0800</span> W NETWORK  [thread1] <span class="keyword">Failed</span> <span class="keyword">to</span> <span class="keyword">connect</span> <span class="keyword">to</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">27017</span>, reason: errno:<span class="number">61</span> <span class="keyword">Connection</span> refused</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span>T20:<span class="number">15</span>:<span class="number">48.789</span>+<span class="number">0800</span> E <span class="keyword">QUERY</span>    [thread1] <span class="keyword">Error</span>: couldn<span class="string">'t connect to server 127.0.0.1:27017, connection attempt failed :</span><br><span class="line">connect@src/mongo/shell/mongo.js:229:14</span><br><span class="line">@(connect):1:6</span><br><span class="line"></span><br><span class="line">exception: connect failed</span></span><br></pre></td></tr></table></figure>
<p>å¥½åœ¨ <a href="http://stackoverflow.com/questions/12831939/couldnt-connect-to-server-127-0-0-127017/17220732#17220732" target="_blank" rel="external">Stackoverflow</a> ä¸€ä¸ªç­”æ¡ˆæåˆ°ï¼Œæ˜¯å› ä¸ºæ²¡æœ‰å¯åŠ¨ mongodb service:</p>
<blockquote>
<p>Did you run mongod before running mongo?</p>
<p>I followed installation instructions for mongodb from <a href="http://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/" target="_blank" rel="external">http://docs.mongodb.org/manual/tutorial/install-mongodb-on-os-x/</a> and I had the same error as you only when I ran mongo before actually running the mongo process with mongod. I thought installing mongodb would also launch it but you need to launch it manually with mongod before you do anything else that needs mongodb.</p>
</blockquote>
<p>ä¸è¿‡è¿˜æ˜¯æŠ¥é”™ï¼š</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">$ mongod</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.094</span>+<span class="number">0800</span> I CONTROL  [initandlisten] MongoDB <span class="string">starting :</span> pid=<span class="number">75109</span> port=<span class="number">27017</span> dbpath=<span class="regexp">/data/</span>db <span class="number">64</span>-bit host=localhost</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten] db version v3<span class="number">.2</span><span class="number">.9</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten] git <span class="string">version:</span> <span class="number">22</span>ec9e93b40c85fc7cae7d56e7d6a02fd811088c</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten] OpenSSL <span class="string">version:</span> OpenSSL <span class="number">1.0</span><span class="number">.2</span>h  <span class="number">3</span> May <span class="number">2016</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten] <span class="string">allocator:</span> system</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten] <span class="string">modules:</span> none</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten] build <span class="string">environment:</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten]     <span class="string">distarch:</span> x86_64</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten]     <span class="string">target_arch:</span> x86_64</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.095</span>+<span class="number">0800</span> I CONTROL  [initandlisten] <span class="string">options:</span> &#123;&#125;</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.097</span>+<span class="number">0800</span> I -        [initandlisten] Detected data files <span class="keyword">in</span> <span class="regexp">/data/</span>db created by the <span class="string">'mmapv1'</span> storage engine, so setting the active storage engine to <span class="string">'mmapv1'</span>.</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T20:</span><span class="number">28</span>:<span class="number">37.100</span>+<span class="number">0800</span> I STORAGE  [initandlisten] exception <span class="keyword">in</span> <span class="string">initAndListen:</span> <span class="number">98</span> Unable to create<span class="regexp">/open lock file: /</span>data<span class="regexp">/db/</span>mongod.lock <span class="string">errno:</span><span class="number">13</span> Permission denied Is a mongod instance already running?, terminating</span><br><span class="line">2016-09-22T20:<span class="number">28</span>:<span class="number">37.100</span>+<span class="number">0800</span> I CONTROL  [initandlisten] <span class="string">dbexit:</span>  <span class="string">rc:</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p>çœ‹è§<code>lock file</code>ä¹ æƒ¯æ€§æƒ³å»åˆ æ‰ï¼Œç»“æœä¾ç„¶ä¸è¡Œ</p>
<p>æœ€åè¿˜æ˜¯åœ¨ <a href="http://stackoverflow.com/questions/15229412/unable-to-create-open-lock-file-data-mongod-lock-errno13-permission-denied/22623543#22623543" target="_blank" rel="external">Stackoverflow</a> æ‰¾åˆ°è§£å†³æ–¹æ³•ï¼š</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">$ sudo chown -R $USER <span class="regexp">/data/</span>db</span><br><span class="line">$ mongod</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten] MongoDB <span class="string">starting :</span> pid=<span class="number">75729</span> port=<span class="number">27017</span> dbpath=<span class="regexp">/data/</span>db <span class="number">64</span>-bit host=localhost</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten] db version v3<span class="number">.2</span><span class="number">.9</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten] git <span class="string">version:</span> <span class="number">22</span>ec9e93b40c85fc7cae7d56e7d6a02fd811088c</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten] OpenSSL <span class="string">version:</span> OpenSSL <span class="number">1.0</span><span class="number">.2</span>h  <span class="number">3</span> May <span class="number">2016</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten] <span class="string">allocator:</span> system</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten] <span class="string">modules:</span> none</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten] build <span class="string">environment:</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten]     <span class="string">distarch:</span> x86_64</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.066</span>+<span class="number">0800</span> I CONTROL  [initandlisten]     <span class="string">target_arch:</span> x86_64</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.067</span>+<span class="number">0800</span> I CONTROL  [initandlisten] <span class="string">options:</span> &#123;&#125;</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.069</span>+<span class="number">0800</span> I -        [initandlisten] Detected data files <span class="keyword">in</span> <span class="regexp">/data/</span>db created by the <span class="string">'mmapv1'</span> storage engine, so setting the active storage engine to <span class="string">'mmapv1'</span>.</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.096</span>+<span class="number">0800</span> I JOURNAL  [initandlisten] journal dir=<span class="regexp">/data/</span>db/journal</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.096</span>+<span class="number">0800</span> I JOURNAL  [initandlisten] <span class="string">recover :</span> no journal files present, no recovery needed</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.112</span>+<span class="number">0800</span> I JOURNAL  [durability] Durability thread started</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.112</span>+<span class="number">0800</span> I JOURNAL  [journal writer] Journal writer thread started</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.438</span>+<span class="number">0800</span> I FTDC     [initandlisten] Initializing full-time diagnostic data capture with directory <span class="string">'/data/db/diagnostic.data'</span></span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.438</span>+<span class="number">0800</span> I NETWORK  [HostnameCanonicalizationWorker] Starting hostname canonicalization worker</span><br><span class="line"><span class="number">2016</span><span class="number">-09</span><span class="number">-22</span><span class="string">T21:</span><span class="number">08</span>:<span class="number">07.439</span>+<span class="number">0800</span> I NETWORK  [initandlisten] waiting <span class="keyword">for</span> connections on port <span class="number">27017</span></span><br></pre></td></tr></table></figure>
<p>å¼€å¯<code>mongod</code>åå†<code>mongo</code>å°±å¯ä»¥äº†</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">$ mongo</span><br><span class="line">MongoDB <span class="built_in">shell</span> <span class="built_in">version</span>: <span class="number">3.2</span><span class="number">.9</span></span><br><span class="line">connecting <span class="built_in">to</span>: test</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<p>æ„Ÿè§‰ mongodb çš„å®˜æ–¹æ–‡æ¡£æœ‰ç‚¹æ‰é“¾å­å•Šâ€¦</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/20/idapython-commandline/" itemprop="url">
                  å‘½ä»¤è¡Œè°ƒç”¨ idapython è„šæœ¬
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-09-20T10:40:41+08:00" content="2016-09-20">
              2016-09-20
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/ida/" itemprop="url" rel="index">
                    <span itemprop="name">ida</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/20/idapython-commandline/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/20/idapython-commandline/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><ol>
<li><p>å®‰è£… Python 2.7</p>
</li>
<li><p>ä¸‹è½½ <a href="https://github.com/idapython/bin/raw/master/idapython-6.9.0-python2.7-mac.zip" target="_blank" rel="external">https://github.com/idapython/bin/raw/master/idapython-6.9.0-python2.7-mac.zip</a> å¹¶è§£å‹</p>
</li>
<li><p>å°† Python å†…çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ° IDA æ ¹ç›®å½•çš„ Python å†…ï¼ˆæ²¡æœ‰å°±æ–°å»ºï¼‰</p>
</li>
<li><p>å°† Plugins å†…çš„æ‰€æœ‰å†…å®¹å¤åˆ¶åˆ° IDA æ ¹ç›®å½•çš„ Plugins å†…</p>
</li>
<li><p>å°† python.cfg å¤åˆ¶åˆ° IDA æ ¹ç›®å½•çš„ cfg å†…</p>
</li>
<li><p>é‡å¯ IDAï¼ŒFile èœå•ä¸‹é¢ä¼šæœ‰ Python Command é€‰é¡¹ï¼Œè€Œä¸” Script files é€‰é¡¹ä¸­å¯ä»¥é€‰æ‹© py æ–‡ä»¶</p>
</li>
</ol>
<p>python ç›®å½•ä¸­çš„å››ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>init.py æ˜¯åˆå§‹çš„åŸºç¡€æ–‡ä»¶</li>
<li>idaapi.py ä¸­å¯¼å…¥äº† _idaapi æ¨¡å—ï¼Œè¿™ä¸ªä»¥ä¸‹åˆ’çº¿å¼€å§‹çš„ idaapi æ¨¡å—å°±æ˜¯å¯¹ IDA API çš„ä½å±‚å°è£…ï¼Œidaapi.py åˆ™æ˜¯ä½œä¸ºè°ƒç”¨ IDA API çš„ç”¨æˆ·å±‚</li>
<li>idautils.py æä¾›äº†ä¸€äº›é«˜çº§åŠŸèƒ½çš„å‡½æ•°</li>
<li>idc.py åˆ™æ˜¯å¯¹ IDA å†…ç½®çš„ IDC è„šæœ¬è¯­è¨€çš„å…¼å®¹</li>
</ul>
<h1 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h1><p>è°ƒç”¨ idapython è„šæœ¬æ—¶æ€»æ˜¯è¦é¼ æ ‡ç‚¹æ¥ç‚¹å»å¾ˆä¸æ–¹ä¾¿ï¼Œåœ¨å®˜ç½‘æ‰¾äº†æ‰¾ </p>
<p><a href="https://www.hex-rays.com/products/ida/support/idadoc/417.shtml" target="_blank" rel="external">https://www.hex-rays.com/products/ida/support/idadoc/417.shtml</a></p>
<p>è¯¥é¡µé¢æä¾›äº†å‘½ä»¤è¡Œä½¿ç”¨ ida æ—¶çš„å¯ç”¨å‚æ•°ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æœ‰ï¼š</p>
<p>-A è®© ida è‡ªåŠ¨è¿è¡Œï¼Œä¸éœ€è¦äººå·¥å¹²é¢„ã€‚ä¹Ÿå°±æ˜¯åœ¨å¤„ç†çš„è¿‡ç¨‹ä¸­ä¸ä¼šå¼¹å‡ºäº¤äº’çª—å£ï¼Œä½†æ˜¯å¦‚æœä»æ¥æ²¡æœ‰ä½¿ç”¨è¿‡ ida é‚£ä¹ˆè®¸å¯åè®®çš„çª—å£æ— è®ºä½ æ˜¯å¦ä½¿ç”¨è¿™ä¸ªå‚æ•°éƒ½å°†ä¼šæ˜¾ç¤ºã€‚</p>
<p>-c å‚æ•°ä¼šåˆ é™¤æ‰€æœ‰ä¸å‚æ•°ä¸­æŒ‡å®šçš„æ–‡ä»¶ç›¸å…³çš„æ•°æ®åº“ï¼Œå¹¶ä¸”ç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®åº“ã€‚</p>
<p>-S å‚æ•°ç”¨äºæŒ‡å®š ida åœ¨åˆ†æå®Œæ•°æ®ä¹‹åæ‰§è¡Œçš„ idc è„šæœ¬ï¼Œ<strong>æ³¨æ„ï¼šè¯¥é€‰é¡¹å’Œå‚æ•°ä¹‹é—´æ²¡æœ‰ç©ºæ ¼</strong>ï¼Œå¹¶ä¸”æœç´¢ç›®å½•ä¸º ida ç›®å½•ä¸‹çš„ idc ç›®å½•ã€‚</p>
<p>-B å‚æ•°æŒ‡å®šæ‰¹é‡æ¨¡å¼ï¼Œç­‰æ•ˆäº-A â€“c  â€“Sanylysis.idc.åœ¨åˆ†æå®Œæˆåä¼šè‡ªåŠ¨ç”Ÿæˆç›¸å…³çš„æ•°æ®åº“å’Œ asm ä»£ç ã€‚å¹¶ä¸”åœ¨æœ€åå…³é—­ idaï¼Œä»¥ä¿å­˜æ–°çš„æ•°æ®åº“ã€‚</p>
<p><em><a href="http://www.h4ck.org.cn/2012/03/ida-batch-mode/" target="_blank" rel="external">è¿™ç¯‡æ–‡ç« </a><sup>2</sup>æ¯”è¾ƒè¯¦ç»†åœ°è®²è§£äº†æ‰¹é‡æ¨¡å¼çš„ç”¨æ³•</em> </p>
<h1 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h1><figure class="highlight py"><figcaption><span>test.py</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> idautils <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> idaapi <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> idc</span><br><span class="line"></span><br><span class="line">idc.Wait()	<span class="comment"># idaapi.autoWait()</span></span><br><span class="line"></span><br><span class="line">ea = BeginEA()</span><br><span class="line">dll_functions = []</span><br><span class="line"></span><br><span class="line">fp = open(<span class="string">"fun_output.txt"</span>, <span class="string">"w"</span>)</span><br><span class="line">fp.write(<span class="string">"check"</span>)</span><br><span class="line"><span class="keyword">for</span> funcea <span class="keyword">in</span> Functions(SegStart(ea), SegEnd(ea)):</span><br><span class="line">    functionName = GetFunctionName(funcea)</span><br><span class="line">    dll_functions.append(functionName)</span><br><span class="line">    fp.write(functionName)</span><br><span class="line">    print(functionName)</span><br><span class="line">fp.close()</span><br><span class="line"></span><br><span class="line">idc.Exit(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<p><em>å…¶ä¸­<code>idc.Wait()</code>è¡¨ç¤ºå¸¦æœ‰<code>-A</code>å‚æ•°æ—¶ï¼Œç­‰å¾… ida è‡ªåŠ¨åˆ†æè¿‡ç¨‹å®Œæˆåå†è¿è¡Œåç»­è„šæœ¬ï¼Œ<code>idc.Exit(0)</code>è¡¨ç¤ºè„šæœ¬è¿è¡Œç»“æŸåè‡ªåŠ¨å…³é—­ ida</em></p>
<p>ä¸è¿‡åœ¨å®é™…æµ‹è¯•æ—¶ï¼Œ<code>idaq -c -A -Stest.py heap_test</code>å¤±è´¥ä¸”æ²¡æœ‰ä»»ä½•é”™è¯¯æç¤ºï¼Œå‚é˜…äº†<a href="http://researchcenter.paloaltonetworks.com/2016/06/unit42-using-idapython-to-make-your-life-easier-part-6/" target="_blank" rel="external">Using IDAPython to Make Your Life Easier: Part 6
</a><sup>3</sup>ï¼Œè„šæœ¬å’Œå‘½ä»¤éƒ½æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¸çŸ¥æ˜¯ä¸æ˜¯å› ä¸º Demo ç‰ˆçš„ç¼˜æ•…ã€‚ã€‚ã€‚</p>
<p><code>idaq -c -Stest.py heap_test</code>å€’æ˜¯ä¸€åˆ‡æ­£å¸¸ï¼Œåªå¥½æš‚ä¸”å¦‚æ­¤äº†ã€‚ã€‚ã€‚</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ol>
<li><a href="http://blog.csdn.net/zhangmiaoping23/article/details/14521995" target="_blank" rel="external">http://blog.csdn.net/zhangmiaoping23/article/details/14521995</a></li>
<li><a href="http://www.h4ck.org.cn/2012/03/ida-batch-mode/" target="_blank" rel="external">http://www.h4ck.org.cn/2012/03/ida-batch-mode/</a></li>
<li><a href="http://researchcenter.paloaltonetworks.com/2016/06/unit42-using-idapython-to-make-your-life-easier-part-6/" target="_blank" rel="external">http://researchcenter.paloaltonetworks.com/2016/06/unit42-using-idapython-to-make-your-life-easier-part-6/</a></li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/12/redis-brew/" itemprop="url">
                  Mac ä¸‹ä½¿ç”¨ homebrew å®‰è£… redis
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-09-12T11:44:37+08:00" content="2016-09-12">
              2016-09-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/redis/" itemprop="url" rel="index">
                    <span itemprop="name">redis</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/12/redis-brew/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/12/redis-brew/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line">$ brew install redis</span><br><span class="line">=<span class="function">=&gt;</span> Downloading https:<span class="regexp">//</span>homebrew.bintray.com/bottles/redis<span class="number">-3.2</span><span class="number">.3</span>.el_capitan.bottle.tar.gz</span><br><span class="line"><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span><span class="comment">######</span> <span class="number">100.0</span>%</span><br><span class="line">=<span class="function">=&gt;</span> Pouring redis<span class="number">-3.2</span><span class="number">.3</span>.el_capitan.bottle.tar.gz</span><br><span class="line">=<span class="function">=&gt;</span> Caveats</span><br><span class="line">To have launchd start redis now <span class="keyword">and</span> restart at login:</span><br><span class="line">  brew services start redis</span><br><span class="line">Or, <span class="keyword">if</span> you don<span class="string">'t want/need a background service you can just run:</span><br><span class="line">  redis-server /usr/local/etc/redis.conf</span><br><span class="line">==&gt; Summary</span><br><span class="line">ğŸº  /usr/local/Cellar/redis/3.2.3: 10 files, 1.7M</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å®‰è£…å¥½äº†ï¼Œå¾ˆæ˜¯æ–¹ä¾¿<br>ä¸è¿‡æš‚æ—¶æœ‰ä¸€ä¸ªé—®é¢˜ï¼šæ¯æ¬¡éƒ½è¦æ‰‹åŠ¨æ‰“å¼€<code>redis-server</code>åæ‰èƒ½<code>redis-cli</code>ï¼Œå¦åˆ™æç¤º<code>not connected</code>   </p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">$ redis-cli</span><br><span class="line">Could <span class="keyword">not</span> connect <span class="keyword">to</span> Redis <span class="keyword">at</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>: Connection refused</span><br><span class="line">Could <span class="keyword">not</span> connect <span class="keyword">to</span> Redis <span class="keyword">at</span> <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">6379</span>: Connection refused</span><br><span class="line"><span class="keyword">not</span> connected&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶å®<code>brew</code>å¾ˆè´´å¿ƒï¼Œä¹‹å‰å®‰è£…å®Œå·²ç»æé†’è¿‡å¯ä»¥<code>brew services start redis</code>æ¥è‡ªåŠ¨å¯åŠ¨ï¼Œå¦å¤–è¿˜å¯ä»¥ä½¿ç”¨<code>brew info</code>æ¥çœ‹çœ‹æç¤ºä¿¡æ¯</p>
<figure class="highlight haml"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">$ brew info redis</span><br><span class="line">redis: stable 3.2.3 (bottled), HEAD</span><br><span class="line">Persistent key-value database, with built-in net interface</span><br><span class="line">http://redis.io/</span><br><span class="line"><span class="comment">/usr/local/Cellar/redis/3.2.3 (10 files, 1.7M) *</span></span><br><span class="line">  Poured from bottle on 2016-09-18 at 09:51:13</span><br><span class="line">From: https://github.com/Homebrew/homebrew-core/blob/master/Formula/redis.rb</span><br><span class="line">=<span class="ruby">=&gt; Options</span><br><span class="line"></span>-<span class="ruby">-with-jemalloc</span><br><span class="line"></span>	Select jemalloc as memory allocator when building Redis</span><br><span class="line">-<span class="ruby">-HEAD</span><br><span class="line"></span>	Install HEAD version</span><br><span class="line">=<span class="ruby">=&gt; Caveats</span><br><span class="line"></span>To have launchd start redis now and restart at login:</span><br><span class="line">  brew services start redis</span><br><span class="line">Or, if you don't want/need a background service you can just run:</span><br><span class="line">  redis-server /usr/local/etc/redis.conf</span><br><span class="line">$ brew services start redis</span><br><span class="line">=<span class="ruby">=&gt; Tapping homebrew/services</span><br><span class="line"></span>Cloning into '/usr/local/Library/Taps/homebrew/homebrew-services'...</span><br><span class="line">remote: Counting objects: 7, done.</span><br><span class="line">remote: Compressing objects: 100% (6/6), done.</span><br><span class="line">remote: Total 7 (delta 0), reused 3 (delta 0), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (7/7), done.</span><br><span class="line">Checking connectivity... done.</span><br><span class="line">Tapped 0 formulae (32 files, 46.3K)</span><br><span class="line">=<span class="ruby">=&gt; Successfully started <span class="string">`redis`</span> (<span class="symbol">label:</span> homebrew.mxcl.redis)</span><br><span class="line"></span>$ redis-cli</span><br><span class="line">127.0.0.1:6379&gt;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å°±å¯ä»¥äº†</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/23/Qåˆ¤æ–­Gadgetæ—¶é‡åˆ°alignä¼ªæŒ‡ä»¤çš„é—®é¢˜/" itemprop="url">
                  Q åˆ¤æ–­ Gadget æ—¶é‡åˆ° align ä¼ªæŒ‡ä»¤çš„é—®é¢˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-23T13:13:57+08:00" content="2016-08-23">
              2016-08-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Q/" itemprop="url" rel="index">
                    <span itemprop="name">Q</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/23/Qåˆ¤æ–­Gadgetæ—¶é‡åˆ°alignä¼ªæŒ‡ä»¤çš„é—®é¢˜/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/23/Qåˆ¤æ–­Gadgetæ—¶é‡åˆ°alignä¼ªæŒ‡ä»¤çš„é—®é¢˜/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©åœ¨åˆ©ç”¨ Q åˆ¤æ–­ Gadget æ—¶å‘ç°ï¼Œåœ¨ IDA ä¸­é™æ€åˆ†ææ—¶æ˜¾ç¤ºå¦‚ä¸‹çš„æŒ‡ä»¤ç‰‡æ®µï¼š</p>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line"><span class="meta">align</span> <span class="number">10h</span></span><br><span class="line"><span class="keyword">ret</span></span><br></pre></td></tr></table></figure>
<p>ä¼šè¢«åˆ¤æ–­ä¸º Gadgetï¼Œå¹¶ä¸”è¿˜è«åå…¶å¦™æ‰¯ä¸Šäº† esi</p>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line">8d7600c3</span><br><span class="line">MoveReg(Address: <span class="number">0x40000</span>, Complexity <span class="number">0.67</span>, Stack <span class="number">0x4</span>, <span class="built_in">Ip</span> <span class="number">0x0</span>, Output: <span class="built_in">esi</span>, Inputs [<span class="built_in">esi</span>])</span><br><span class="line">AndGadget(Address: <span class="number">0x40000</span>, Complexity <span class="number">0.67</span>, Stack <span class="number">0x4</span>, <span class="built_in">Ip</span> <span class="number">0x0</span>, Output: <span class="built_in">esi</span>, Inputs [<span class="built_in">esi</span>, <span class="built_in">esi</span>])</span><br><span class="line">OrGadget(Address: <span class="number">0x40000</span>, Complexity <span class="number">0.67</span>, Stack <span class="number">0x4</span>, <span class="built_in">Ip</span> <span class="number">0x0</span>, Output: <span class="built_in">esi</span>, Inputs [<span class="built_in">esi</span>, <span class="built_in">esi</span>])</span><br></pre></td></tr></table></figure>
<p>å®åœ¨ç™¾æ€ä¸å¾—å…¶è§£   </p>
<p>æŒ‰ç†è¯´<code>ä¼ªæŒ‡ä»¤</code>å¹¶æ²¡æœ‰å®é™…çš„æœºå™¨ç ä¸ä¹‹å¯¹åº”ï¼Œä½†æ˜¯<code>ret</code>å¯¹åº”<code>c3</code>ï¼Œé‚£ä¹ˆåªèƒ½è§£é‡Šä¸º<code>align 10h</code>å¯¹åº”<code>8d7600</code>äº†</p>
<p>å¥½åœ¨ Google åˆ°äº†<a href="http://www.codingnow.com/2000/frame.htm?http://www.codingnow.com/2000/essay/align.htm" target="_blank" rel="external">ä¸€ç¯‡æ–‡ç« </a>ï¼Œæåˆ°äº†æ±‡ç¼–å™¨å¤„ç†<code>align</code>ä¼ªæŒ‡ä»¤çš„åŸç†</p>
<blockquote>
<p>æˆ‘åŸæ¥ä»¥ä¸º, VC å°†æ’å…¥ NOP æ¥å¯¹é½ä»£ç , ç»“æœå‘ç°, ä¸ºäº†æé«˜æ•ˆç‡, VC æŒ‰æƒ…å†µå¡«å…¥äº†å•å­—èŠ‚,åŒå­—èŠ‚, ä¸‰å­—èŠ‚æŒ‡ä»¤åšç©ºæ“ä½œ, ä½¿ç©ºæ“ä½œçš„æ—¶é—´æœ€çŸ­. å½“éœ€è¦æ’å…¥ 1 å­—èŠ‚æ—¶, ç†æ‰€å½“ç„¶çš„æ’å…¥ä¸€ä¸ª 0x90 (NOP); éœ€è¦æ’å…¥ 2 å­—èŠ‚æ—¶åˆ™æ˜¯ 0x8b 0xff (MOV DI,DI) è¿™ä¹Ÿæ— å¯åšé, æ­¤æŒ‡ä»¤ä¸ç ´åä»»ä½•å¯„å­˜å™¨, ä¹Ÿä¸å½±å“æ ‡å¿—ä½; å¯éœ€è¦å¡«å…¥ 3 ä¸ªå­—èŠ‚çš„æ—¶å€™, æˆ‘ç”¨çš„ VC6 å´ä»¤äººè´¹è§£çš„å¡«å…¥äº† 0x8d 0x49 0x00 (LEA CX,[BX+DI+00]), å¾ˆæ˜æ˜¾å®ƒå½±å“äº† CX, è€Œé£é­‚çš„ä»£ç å°±æ˜¯å—åˆ°äº†å®ƒçš„å½±å“.</p>
</blockquote>
<p>æˆ‘è¿™æ‰æç„¶å¤§æ‚Ÿï¼Œæ‹¿ capstone åæ±‡ç¼–äº†ä¸€ä¸‹<code>8d7600</code>å¾—åˆ°</p>
<figure class="highlight x86asm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">lea</span>	<span class="built_in">esi</span>, <span class="built_in">dword</span> <span class="built_in">ptr</span> [<span class="built_in">esi</span>]</span><br></pre></td></tr></table></figure>
<p>æœç„¶ï¼Œæ±‡ç¼–å™¨åœ¨å¤„ç†<code>align</code>æ—¶ï¼Œæ’å…¥äº†è¿™æ ·ä¸€ä¸ª<code>ä¸ç ´åä»»ä½•å¯„å­˜å™¨ä¹Ÿä¸å½±å“æ ‡å¿—ä½</code>çš„æŒ‡ä»¤æ¥å®ç°å¯¹é½æ•ˆæœ</p>
<p>è€Œ Qï¼ˆä½¿ç”¨ capstone åæ±‡ç¼–ï¼‰æ¥æ”¶åˆ°ä¼ å…¥çš„æŒ‡ä»¤æ—¶ï¼Œè‡ªç„¶ä¼šæŒ‰ç…§å®é™…çš„æœºå™¨æŒ‡ä»¤è€Œä¸æ˜¯<code>align 10h</code>æ¥è¿›è¡Œ Gadget åˆ¤æ–­ï¼Œæ‰€ä»¥å‡ºç°äº†ä¸Šé¢çš„ç»“æœ</p>
<p>å¤§è‡´å¦‚æ­¤â€¦</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/16/Flask-relationship-backref/" itemprop="url">
                  Flask-SQLAlchemy ä¸­çš„ relationship & backref
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-16T14:29:07+08:00" content="2016-08-16">
              2016-08-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Flask/" itemprop="url" rel="index">
                    <span itemprop="name">Flask</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/08/16/Flask-relationship-backref/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/08/16/Flask-relationship-backref/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©é‡çœ‹ Flask æ—¶ï¼Œå‘ç°å¯¹<code>backref</code>ä»ç„¶æ²¡æœ‰ç†è§£é€å½»ã€‚æŸ¥é˜…<a href="http://flask-sqlalchemy.pocoo.org/2.1/models/" target="_blank" rel="external">æ–‡æ¡£</a>åå‘ç°ï¼Œä»¥å‰è¯•å›¾å­¤ç«‹åœ°ç†è§£<code>backref</code>æ˜¯é—®é¢˜ä¹‹æºï¼Œ<code>backref</code>æ˜¯ä¸<code>relationship</code>é…åˆä½¿ç”¨çš„ã€‚</p>
<h1 id="ä¸€å¯¹å¤šå…³ç³»"><a href="#ä¸€å¯¹å¤šå…³ç³»" class="headerlink" title="ä¸€å¯¹å¤šå…³ç³»"></a>ä¸€å¯¹å¤šå…³ç³»</h1><p><code>db.relationship()</code>ç”¨äºåœ¨ä¸¤ä¸ªè¡¨ä¹‹é—´å»ºç«‹<code>ä¸€å¯¹å¤šå…³ç³»</code>ã€‚ä¾‹å¦‚ä¹¦ä¸­ roles è¡¨ä¸­ä¸€ä¸ª User è§’è‰²ï¼Œå¯ä»¥å¯¹åº” users è¡¨ä¸­å¤šä¸ªå®é™…çš„æ™®é€šç”¨æˆ·ã€‚å®ç°è¿™ç§å…³ç³»æ—¶ï¼Œè¦åœ¨â€œå¤šâ€è¿™ä¸€ä¾§åŠ å…¥ä¸€ä¸ªå¤–é”®ï¼ŒæŒ‡å‘â€œä¸€â€è¿™ä¸€ä¾§è”æ¥çš„è®°å½•ã€‚</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Role</span><span class="params">(db.Model)</span>:</span></span><br><span class="line">	<span class="comment"># ...</span></span><br><span class="line">	users = db.relationship(<span class="string">'User'</span>, backref=<span class="string">'role'</span>)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(db.Model)</span>:</span></span><br><span class="line">	<span class="comment"># ...</span></span><br><span class="line">	role_id = db.Column(db.Integer, db.ForeignKey(<span class="string">'roles.id'</span>))</span><br></pre></td></tr></table></figure>
<h2 id="relationship-amp-ForeighKey"><a href="#relationship-amp-ForeighKey" class="headerlink" title="relationship &amp; ForeighKey"></a>relationship &amp; ForeighKey</h2><p>å¤§å¤šæ•°æƒ…å†µä¸‹, db.relationship() éƒ½èƒ½è‡ªè¡Œæ‰¾åˆ°å…³ç³»ä¸­çš„å¤–é”®, ä½†æœ‰æ—¶å´æ— æ³•å†³å®šæŠŠ å“ªä¸€åˆ—ä½œä¸ºå¤–é”®ã€‚ ä¾‹å¦‚, å¦‚æœ User æ¨¡å‹ä¸­æœ‰ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„åˆ—å®šä¹‰ä¸º Role æ¨¡å‹çš„å¤–é”®, SQLAlchemy å°±ä¸çŸ¥é“è¯¥ä½¿ç”¨å“ªåˆ—ã€‚å¦‚æœæ— æ³•å†³å®šå¤–é”®,ä½ å°±è¦ä¸º db.relationship() æä¾›é¢å¤–å‚æ•°,ä»è€Œç¡®å®šæ‰€ç”¨å¤–é”®ã€‚ï¼ˆè§ä¹¦ P49ï¼‰</p>
<h2 id="relationship-amp-backref"><a href="#relationship-amp-backref" class="headerlink" title="relationship &amp; backref"></a>relationship &amp; backref</h2><p>é€šè¿‡<code>db.relationship()</code>ï¼ŒRole æ¨¡å‹æœ‰äº†ä¸€ä¸ªå¯ä»¥è·å¾—å¯¹åº”è§’è‰²æ‰€æœ‰ç”¨æˆ·çš„å±æ€§<code>users</code>ã€‚é»˜è®¤æ˜¯åˆ—è¡¨å½¢å¼ï¼Œ<code>lazy=&#39;dynamic&#39;</code>æ—¶è¿”å›çš„æ˜¯ä¸€ä¸ª query å¯¹è±¡ã€‚å³<code>relationship</code>æä¾›äº† Role å¯¹ User çš„è®¿é—®ã€‚</p>
<p>è€Œ<code>backref</code>æ­£å¥½ç›¸åï¼Œæä¾›äº† User å¯¹ Role çš„è®¿é—®ã€‚</p>
<p>ä¸å¦¨è®¾ä¸€ä¸ª Role å®ä¾‹ä¸º <code>user_role</code>ï¼Œä¸€ä¸ª User å®ä¾‹ä¸º <code>u</code>ã€‚relationship ä½¿ <code>user_role.users</code> å¯ä»¥è®¿é—®æ‰€æœ‰ç¬¦åˆè§’è‰²çš„ç”¨æˆ·ï¼Œè€Œ backref ä½¿ <code>u.role</code> å¯ä»¥è·å¾—ç”¨æˆ·å¯¹åº”çš„è§’è‰²ã€‚</p>
<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ p manage.py shell</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user_role = Role.query.filter_by(name=<span class="string">'User'</span>).all()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user_role</span><br><span class="line">[&lt;Role <span class="string">u'User'</span>&gt;]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user_role = Role.query.filter_by(name=<span class="string">'User'</span>).first()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user_role</span><br><span class="line">&lt;Role <span class="string">u'User'</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user_role.users</span><br><span class="line">&lt;sqlalchemy.orm.dynamic.AppenderBaseQuery object at <span class="number">0x1087c1050</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user_role.users.order_by(User.username).all()</span><br><span class="line">[&lt;User <span class="string">u'alice78'</span>&gt;, &lt;User <span class="string">u'andrea86'</span>&gt;, &lt;User <span class="string">u'hmr'</span>&gt;]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Role.query.all()</span><br><span class="line">[&lt;Role <span class="string">u'Moderator'</span>&gt;, &lt;Role <span class="string">u'Administrator'</span>&gt;, &lt;Role <span class="string">u'User'</span>&gt;]</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>user_role.users.count()</span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>u = User.query.filter_by(username=<span class="string">'hmr'</span>).first()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>u</span><br><span class="line">&lt;User <span class="string">u'hmr'</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>u.role</span><br><span class="line">&lt;Role <span class="string">u'User'</span>&gt;</span><br><span class="line">&gt;&gt;&gt;</span><br></pre></td></tr></table></figure>
<h1 id="ä¸€å¯¹ä¸€å…³ç³»"><a href="#ä¸€å¯¹ä¸€å…³ç³»" class="headerlink" title="ä¸€å¯¹ä¸€å…³ç³»"></a>ä¸€å¯¹ä¸€å…³ç³»</h1><p>é™¤äº†ä¸€å¯¹å¤šä¹‹å¤–, è¿˜æœ‰å‡ ç§å…¶ä»–çš„å…³ç³»ç±»å‹ã€‚ä¸€å¯¹ä¸€å…³ç³»å¯ä»¥ç”¨å‰é¢ä»‹ç»çš„ä¸€å¯¹å¤šå…³ç³»è¡¨ç¤º, ä½†è°ƒç”¨ db.relationship() æ—¶è¦æŠŠ uselist è®¾ä¸º False , æŠŠâ€œå¤šâ€å˜æˆâ€œä¸€â€ã€‚ </p>
<h1 id="å¤šå¯¹å¤šå…³ç³»"><a href="#å¤šå¯¹å¤šå…³ç³»" class="headerlink" title="å¤šå¯¹å¤šå…³ç³»"></a>å¤šå¯¹å¤šå…³ç³»</h1><p><code>å¤šå¯¹å¤šå…³ç³»</code>åœ¨ä¹¦ P131 è®²å¾—å¾ˆæ¸…æ¥šã€‚</p>
<p>åœ¨ P134 çš„å®é™…ä¾‹å­ä¸­ï¼Œä½¿ç”¨ä¸¤ä¸ªä¸€å¯¹å¤šå…³ç³»å®ç°å¤šå¯¹å¤šå…³ç³»ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/28/hexo-rss-sitemap/" itemprop="url">
                  hexo-rss-sitemap
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-28T10:42:46+08:00" content="2016-07-28">
              2016-07-28
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/hexo/" itemprop="url" rel="index">
                    <span itemprop="name">hexo</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/28/hexo-rss-sitemap/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/28/hexo-rss-sitemap/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©çªç„¶å‘ç°æ²¡ç»™åšå®¢æ·»åŠ <code>RSS</code>è®¢é˜…å’Œ<code>sitemap</code>ï¼ˆç«™ç‚¹åœ°å›¾ï¼Œæ–¹ä¾¿æœç´¢å¼•æ“çš„æ”¶å½•ï¼‰<br>å°è¯•äº†ä¸€ä¸‹å‘è§‰è¿˜æŒºæ–¹ä¾¿çš„   </p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-feed <span class="comment">--save</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-baidu-sitemap <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä¸€å®šè¦åŠ ä¸Š<code>--save</code>ï¼Œå¦åˆ™æ— æ³•<code>generate</code>å¯¹åº”çš„ xml</p>
<p>ç„¶ååœ¨æ ¹ç›®å½•çš„<code>_config.xml</code>åŠ å…¥</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"># RSS &amp; sitemap</span><br><span class="line"># Extensions</span><br><span class="line">Plugins:</span><br><span class="line">- hexo-generator-feed</span><br><span class="line">- hexo-generator-sitemap</span><br><span class="line"></span><br><span class="line"># Feed Atom</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line"></span><br><span class="line"># sitemap</span><br><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br></pre></td></tr></table></figure>
<p>ç„¶å<code>hexo g</code>å³å¯ç”Ÿæˆå¯¹åº” xml</p>
<blockquote>
<p>INFO  Start processing<br>INFO  Files loaded in 650 ms<br>INFO  Generated: atom.xml<br>INFO  Generated: sitemap.xml<br>INFO  2 files generated in 2.47 s</p>
</blockquote>
<p>è¿™æ—¶è®¿é—®å¯¹åº”è·¯å¾„å³å¯éªŒè¯ï¼Œå¦å¤–è¾¹æ ä¹Ÿå¯ä»¥çœ‹è§<code>RSS</code>å›¾æ ‡äº†</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/25/Pythoné—­åŒ…/" itemprop="url">
                  Python ä¸­çš„é—­åŒ…ä¸è£…é¥°å™¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-25T10:18:09+08:00" content="2016-07-25">
              2016-07-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/25/Pythoné—­åŒ…/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/25/Pythoné—­åŒ…/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Closure-é—­åŒ…"><a href="#Closure-é—­åŒ…" class="headerlink" title="Closure(é—­åŒ…)"></a>Closure(é—­åŒ…)</h1><p>ä»€ä¹ˆæ˜¯é—­åŒ…?ç®€å•è¯´,é—­åŒ…å°±æ˜¯æ ¹æ®ä¸åŒçš„é…ç½®ä¿¡æ¯å¾—åˆ°ä¸åŒçš„ç»“æœã€‚</p>
<p>ä¸“ä¸šçš„è§£é‡Š:é—­åŒ…ï¼ˆClosureï¼‰æ˜¯è¯æ³•é—­åŒ…ï¼ˆLexical Closureï¼‰çš„ç®€ç§°ï¼Œæ˜¯å¼•ç”¨äº†è‡ªç”±å˜é‡çš„å‡½æ•°ã€‚è¿™ä¸ªè¢«å¼•ç”¨çš„è‡ªç”±å˜é‡å°†å’Œè¿™ä¸ªå‡½æ•°ä¸€åŒå­˜åœ¨ï¼Œå³ä½¿å·²ç»ç¦»å¼€äº†åˆ›é€ å®ƒçš„ç¯å¢ƒä¹Ÿä¸ä¾‹å¤–ã€‚æ‰€ä»¥ï¼Œæœ‰å¦ä¸€ç§è¯´æ³•è®¤ä¸ºé—­åŒ…æ˜¯ç”±å‡½æ•°å’Œä¸å…¶ç›¸å…³çš„å¼•ç”¨ç¯å¢ƒç»„åˆè€Œæˆçš„å®ä½“ã€‚</p>
<p>æ¦‚å¿µæ€»æ˜¯æœ‰ç‚¹æŠ½è±¡ï¼Œä¸‹é¢ç»“åˆç¤ºä¾‹è¯´ä¸‹æˆ‘è‡ªå·±çš„ç†è§£ã€‚</p>
<h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ul>
<li>å¤–éƒ¨å‡½æ•°åŒ…è£¹å†…éƒ¨å‡½æ•°</li>
<li>å¤–éƒ¨å‡½æ•°æœ€ç»ˆè¿”å›ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå³ä¸€ä¸ªå†…éƒ¨å‡½æ•°å®ä¾‹</li>
<li>å¤–éƒ¨å‡½æ•°ä¼ å…¥çš„å‚æ•°ä¸åŒæ—¶ï¼Œä¼šè¿”å›ä¸åŒçš„å†…éƒ¨å‡½æ•°å®ä¾‹</li>
<li>å¤–éƒ¨å‡½æ•°ç”¨äº<code>ç»‘å®š</code>ï¼Œå†…éƒ¨å‡½æ•°ç”¨äº<code>å¤„ç†</code></li>
<li>å¤–éƒ¨å‡½æ•°ç»‘å®šçš„å‚æ•°ä¸º<code>å‡½æ•°</code>æ—¶ï¼Œå³ä¸º<code>è£…é¥°å™¨</code></li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">plus</span><span class="params">(augend)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'augend:'</span>, augend</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">plus_inside</span><span class="params">(addend)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'addend:'</span>, addend</span><br><span class="line">        result = augend + addend</span><br><span class="line">        <span class="keyword">print</span> <span class="string">'result:'</span>, result</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> plus_inside</span><br><span class="line"></span><br><span class="line">p20 = plus(<span class="number">20</span>)</span><br><span class="line"><span class="comment"># -&gt; augend: 20</span></span><br><span class="line"><span class="comment"># åªæ‰“å° augend è¯´æ˜å†…éƒ¨å¤„ç†å‡½æ•°å°šæœªæ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># åªæ˜¯å®Œæˆäº†å°† augend ä¸å¤„ç†å‡½æ•°ç»‘å®šçš„æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">p20(<span class="number">1</span>)</span><br><span class="line"><span class="comment"># -&gt; addend: 1</span></span><br><span class="line"><span class="comment"># -&gt; result: 21</span></span><br></pre></td></tr></table></figure>
<h1 id="Decorator-è£…é¥°å™¨"><a href="#Decorator-è£…é¥°å™¨" class="headerlink" title="Decorator(è£…é¥°å™¨)"></a>Decorator(è£…é¥°å™¨)</h1><p>å‰é¢å·²ç»æåˆ°ï¼Œè£…é¥°å™¨æœ¬è´¨å°±æ˜¯å¤–éƒ¨å‡½æ•°ç»‘å®šå‚æ•°ä¸ºå‡½æ•°çš„é—­åŒ…ã€‚</p>
<p>å¦å¤– Python ç»™å®ƒæ·»åŠ äº†ä¸€ä¸ªæ›´ä¼˜é›…çš„è°ƒç”¨æ–¹å¼ï¼Œç”¨åœ¨è¢«ç»‘å®šå‡½æ•°<code>f</code>ä¹‹å‰æ·»åŠ <code>@wrapper</code>çš„æ–¹å¼ï¼Œä»£æ›¿åœ¨è¢«ç»‘å®šå‡½æ•°<code>f</code>å®šä¹‰åä½¿ç”¨<code>f = wrapper(f)</code>æ‰‹åŠ¨èµ‹å€¼çš„æ–¹å¼ï¼Œæ¥è¿›è¡Œç»‘å®šã€‚</p>
<h2 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makebold</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapped</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&lt;b&gt;"</span> + fn() + <span class="string">"&lt;/b&gt;"</span></span><br><span class="line">    <span class="keyword">return</span> wrapped</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">makeitalic</span><span class="params">(fn)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapped</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&lt;i&gt;"</span> + fn() + <span class="string">"&lt;/i&gt;"</span></span><br><span class="line">    <span class="keyword">return</span> wrapped</span><br><span class="line"></span><br><span class="line"><span class="meta">@makebold</span></span><br><span class="line"><span class="meta">@makeitalic</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">"hello world"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> hello() </span><br><span class="line"><span class="comment"># -&gt; &lt;b&gt;&lt;i&gt;hello world&lt;/i&gt;&lt;/b&gt;</span></span><br><span class="line"><span class="comment"># æ³¨æ„&lt;b&gt;å’Œ&lt;i&gt;çš„é¡ºåº</span></span><br></pre></td></tr></table></figure>
<h2 id="ä¿æŒå‡½æ•°é»˜è®¤å‚æ•°å¸¸æ–°çš„è£…é¥°å™¨"><a href="#ä¿æŒå‡½æ•°é»˜è®¤å‚æ•°å¸¸æ–°çš„è£…é¥°å™¨" class="headerlink" title="ä¿æŒå‡½æ•°é»˜è®¤å‚æ•°å¸¸æ–°çš„è£…é¥°å™¨"></a>ä¿æŒå‡½æ•°é»˜è®¤å‚æ•°å¸¸æ–°çš„è£…é¥°å™¨</h2><p>Cookbook 20.1 é‡Œæœ‰ä¸ªç‰¹åˆ«çš„ä¾‹å­ã€‚</p>
<p>Python é‡Œå‡½æ•°çš„é»˜è®¤å‚æ•°åªåœ¨å‡½æ•°å®šä¹‰æ—¶æ±‚å€¼ä¸€æ¬¡ï¼Œç„¶åå­˜å…¥å‡½æ•°å†…å»ºçš„ func_defaults å…ƒç»„å†…ã€‚å¦‚æœæ˜¯ä¸å¯å˜å‚æ•°ï¼ˆå¦‚ 1ã€â€™qweâ€™ã€None ç­‰ï¼‰ï¼Œå®Œå…¨æ²¡æœ‰é—®é¢˜ï¼›ä½†å¦‚æœæ˜¯ç±»ä¼¼åˆ—è¡¨è¿™æ ·çš„å¯å˜å‚æ•°ï¼Œé‡æ–°è°ƒç”¨å‡½æ•°æ—¶é»˜è®¤çš„åˆ—è¡¨å¯èƒ½å·²ç»é¢ç›®å…¨éã€‚</p>
<p>ä¹¦ä¸­æä¾›äº†ä¸¤ç§è§£å†³è¯¥é—®é¢˜çš„æ–¹æ³•ï¼š</p>
<h3 id="æ ‡å‡†æ–¹æ³•"><a href="#æ ‡å‡†æ–¹æ³•" class="headerlink" title="æ ‡å‡†æ–¹æ³•"></a>æ ‡å‡†æ–¹æ³•</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">packitem</span><span class="params">(item, pkg=None)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> pkg <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">        pkg = []</span><br><span class="line">    pkg.append(item)</span><br><span class="line">    <span class="keyword">return</span> pkg</span><br></pre></td></tr></table></figure>
<h3 id="è£…é¥°å™¨æ–¹æ³•"><a href="#è£…é¥°å™¨æ–¹æ³•" class="headerlink" title="è£…é¥°å™¨æ–¹æ³•"></a>è£…é¥°å™¨æ–¹æ³•</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">freshdefaults</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="string">"a decorator to wrap f and keep its default values fresh between calls"</span></span><br><span class="line">    fdefaults = f.func_defaults</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">refresher</span><span class="params">(*args, **kwds)</span>:</span></span><br><span class="line">        f.func_defaults = deepcopy(fdefaults)</span><br><span class="line">        <span class="keyword">return</span> f(*args, **kwds)</span><br><span class="line">        </span><br><span class="line">    <span class="comment"># ç”¨äºåœ¨ print æ—¶åŒºåˆ«ä¸åŒçš„è¢«ç»‘å®šå‡½æ•°ï¼Œ2.4 åæœ‰æ•ˆï¼Œè§ Cookbook 20.1 </span></span><br><span class="line">    refresher.__name__ = f.__name__</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> refresher</span><br><span class="line"></span><br><span class="line"><span class="comment"># usage as a decorator, in python 2.4:</span></span><br><span class="line"><span class="meta">@freshdefaults</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">packitem</span><span class="params">(item, pkg=[])</span>:</span></span><br><span class="line">    pkg.append(item)</span><br><span class="line">    <span class="keyword">return</span> pkg</span><br><span class="line"><span class="comment"># usage in python 2.3: after the function definition, explicitly assign:</span></span><br><span class="line"><span class="comment"># f = freshdefaults(f)</span></span><br></pre></td></tr></table></figure>
<h3 id="Ref"><a href="#Ref" class="headerlink" title="Ref."></a>Ref.</h3><ul>
<li><a href="http://www.cnblogs.com/ma6174/archive/2013/04/15/3022548.html" target="_blank" rel="external">http://www.cnblogs.com/ma6174/archive/2013/04/15/3022548.html</a></li>
<li>Cookbook 20.1</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/06/å­—ç¬¦é›†ä¸ç¼–ç æ–¹å¼/" itemprop="url">
                  å­—ç¬¦é›†ä¸ç¼–ç æ–¹å¼
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-06T19:04:36+08:00" content="2016-07-06">
              2016-07-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Unicode/" itemprop="url" rel="index">
                    <span itemprop="name">Unicode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/06/å­—ç¬¦é›†ä¸ç¼–ç æ–¹å¼/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/06/å­—ç¬¦é›†ä¸ç¼–ç æ–¹å¼/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»¥å‰å¯¹ã€Œå­—ç¬¦é›†ä¸ç¼–ç ã€çš„è®¤è¯†å®Œå…¨æ¥æºäº<a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386819196283586a37629844456ca7e5a7faa9b94ee8000" target="_blank" rel="external">å»–é›ªå³°çš„è¿™ç¯‡æ–‡ç« </a>ï¼Œä½†æ˜¯æ€»å®¹æ˜“å¿˜è®°<br>è€Œä¸”ä¾ç¨€è®°å¾—å¾ˆæ—©çš„æ—¶å€™åœ¨çŸ¥ä¹çœ‹åˆ°æ¢æµ·å¤§ç¥æåˆ°è¿‡å­—ç¬¦é›†ä¸ç¼–ç æ˜¯ä¸ä¸€æ ·çš„æ¦‚å¿µ</p>
<p>ä»Šå¤©ä»”ç»†æŸ¥é˜…äº†ä¸€ä¸‹ï¼Œç®—æ˜¯åŸºæœ¬ææ¸…æ¥šäº†ï¼Œè®°å½•å¦‚ä¸‹</p>
<h1 id="å­—ç¬¦é›†ä¸ç¼–ç "><a href="#å­—ç¬¦é›†ä¸ç¼–ç " class="headerlink" title="å­—ç¬¦é›†ä¸ç¼–ç "></a>å­—ç¬¦é›†ä¸ç¼–ç </h1><p>é¡¾åæ€ä¹‰ï¼Œã€Œå­—ç¬¦ã€çš„ã€Œé›†åˆã€ï¼Œæ¯ä¸ªã€Œå­—ç¬¦ã€æœ‰ä¸€ä¸ªå”¯ä¸€çš„ã€Œæ•°å­—ã€ä¸ä¹‹å¯¹åº”<br>è€Œå¦‚ä½•å°†ã€Œæ•°å­—ã€æ”¹å†™æˆå†…å­˜ä¸­çš„ã€Œå­—èŠ‚ã€ï¼Œå³æ‰€è°“çš„ã€Œç¼–ç ã€æˆ–ã€Œç¼–ç æ–¹å¼ã€</p>
<p>ä»¥ä¸‹å¼•è‡ª<a href="https://www.zhihu.com/question/21887246/answer/19631235" target="_blank" rel="external">æ¢æµ·</a>ï¼š</p>
<blockquote>
<p>ã€Œå­—ç¬¦é›†ã€å’Œã€Œç¼–ç ã€ç­‰å‡ ä¸ªå±‚æ¬¡çš„æ¦‚å¿µè¢«å½»åº•åˆ†ç¦»ä¸”æ¨¡å—åŒ–çš„è¿™æ ·ä¸€ä¸ªæ¨¡å‹ï¼Œå…¶å®æ˜¯ Unicode æ—¶ä»£æ‰å¾—åˆ°å¹¿æ³›è®¤åŒçš„ã€‚</p>
<p>è€Œå¯¹äº ASCIIã€GB2312ã€Big5 ä¹‹ç±»çš„é—ç•™ï¼ˆlegacyï¼‰æ–¹æ¡ˆï¼Œå…¶å­—ç¬¦é›†åŠå…¶ç¼–ç çš„å…³ç³»åŸºæœ¬æ˜¯é”å®šçš„ï¼Œæ‰€ä»¥å¸¸å¸¸ç”¨ã€Œå­—ç¬¦ç¼–ç ã€ï¼ˆcharacter encodingï¼‰ã€ã€Œä»£ç é¡µã€ï¼ˆcode pageï¼‰ç­‰æ¦‚å¿µæ¥ç»Ÿç§°å®ƒä»¬é‚£æ ·ä»å­—ç¬¦åˆ°ç¼–ç å­—èŠ‚æµçš„æ•´ä½“æ–¹æ¡ˆã€‚æ¯”å¦‚ ASCII æœ¬èº«å°±æ—¢æ˜¯å­—ç¬¦é›†åˆæ˜¯ç¼–ç æ–¹æ¡ˆï¼Œè€Œ GB2312 ç”¨çš„éƒ½æ˜¯ EUC-CN ç¼–ç æ–¹æ¡ˆã€‚ä½ çš„ç†è§£æ˜¯å¯¹çš„ã€‚</p>
</blockquote>
<h1 id="Unicode-å­—ç¬¦é›†"><a href="#Unicode-å­—ç¬¦é›†" class="headerlink" title="Unicode å­—ç¬¦é›†"></a>Unicode å­—ç¬¦é›†</h1><p>Unicode åŸæœ¬åªæ˜¯ä¸ªå­—ç¬¦é›†ï¼Œ<a href="http://www.freebuf.com/articles/others-articles/25623.html" target="_blank" rel="external">freebuf çš„ä¸€ç¯‡è¯‘æ–‡</a>è®²å¾—å¾ˆç”ŸåŠ¨ï¼š</p>
<blockquote>
<p>Unicode èƒŒåçš„æƒ³æ³•éå¸¸ç®€å•ï¼Œç„¶è€Œå´è¢«æ™®éçš„è¯¯è§£äº†ã€‚Unicode å°±åƒä¸€ä¸ªç”µè¯æœ¬ï¼Œæ ‡è®°ç€å­—ç¬¦å’Œæ•°å­—ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚Joel ç§°ä¹‹ä¸ºã€Œç¥å¥‡æ•°å­—ã€ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½æ˜¯éšæœºæŒ‡å®šçš„ï¼Œè€Œä¸”ä¸ä¼šç»™å‡ºä»»ä½•è§£é‡Šã€‚å®˜æ–¹æœ¯è¯­æ˜¯ç ä½ï¼ˆCode Pointï¼‰ï¼Œæ€»æ˜¯ç”¨ U+ å¼€å¤´ã€‚ç†è®ºä¸Šæ¯ç§è¯­è¨€ä¸­çš„æ¯ç§å­—ç¬¦éƒ½è¢« Unicode åä¼šæŒ‡å®šäº†ä¸€ä¸ªç¥å¥‡æ•°å­—ã€‚ä¾‹å¦‚å¸Œä¼¯æ¥æ–‡ä¸­çš„ç¬¬ä¸€ä¸ªå­—æ¯ ×ï¼Œæ˜¯ U+2135ï¼Œå­—æ¯ A æ˜¯ U+0061ã€‚</p>
<p>Unicode å¹¶ä¸æ¶‰åŠå­—ç¬¦æ˜¯æ€ä¹ˆåœ¨å­—èŠ‚ä¸­è¡¨ç¤ºçš„ï¼Œå®ƒä»…ä»…æŒ‡å®šäº†å­—ç¬¦å¯¹åº”çš„æ•°å­—ï¼Œä»…æ­¤è€Œå·²ã€‚</p>
<p>å…³äº Unicode çš„å…¶å®ƒè¯¯è§£åŒ…æ‹¬ï¼šUnicode æ”¯æŒçš„å­—ç¬¦ä¸Šé™æ˜¯ 65536 ä¸ªï¼ŒUnicode å­—ç¬¦å¿…é¡»å ä¸¤ä¸ªå­—èŠ‚ã€‚å‘Šè¯‰ä½ è¿™äº›çš„äººåº”è¯¥å»æ¢æ¢è„‘å­äº†ã€‚</p>
<p>è®°ä½ï¼ŒUnicode åªæ˜¯ä¸€ä¸ªç”¨æ¥æ˜ å°„å­—ç¬¦å’Œæ•°å­—çš„æ ‡å‡†ã€‚å®ƒå¯¹æ”¯æŒå­—ç¬¦çš„æ•°é‡æ²¡æœ‰é™åˆ¶ï¼Œä¹Ÿä¸è¦æ±‚å­—ç¬¦å¿…é¡»å ä¸¤ä¸ªã€ä¸‰ä¸ªæˆ–è€…å…¶å®ƒä»»æ„æ•°é‡çš„å­—èŠ‚ã€‚</p>
</blockquote>
<h1 id="Unicode-ç¼–ç "><a href="#Unicode-ç¼–ç " class="headerlink" title="Unicode ç¼–ç "></a>Unicode ç¼–ç </h1><p>Unicode çš„å®ç°æ–¹å¼ä¸åŒäºç¼–ç æ–¹å¼ã€‚ä¸€ä¸ªå­—ç¬¦çš„ Unicode ç¼–ç æ˜¯ç¡®å®šçš„ã€‚ä½†æ˜¯åœ¨å®é™…ä¼ è¾“è¿‡ç¨‹ä¸­ï¼Œç”±äºä¸åŒç³»ç»Ÿå¹³å°çš„è®¾è®¡ä¸ä¸€å®šä¸€è‡´ï¼Œä»¥åŠå‡ºäºèŠ‚çœç©ºé—´çš„ç›®çš„ï¼Œå¯¹ Unicode ç¼–ç çš„å®ç°æ–¹å¼æœ‰æ‰€ä¸åŒã€‚Unicode çš„å®ç°æ–¹å¼ç§°ä¸º  Unicode è½¬æ¢æ ¼å¼ï¼ˆUnicode Transformation Formatï¼Œç®€ç§°ä¸º UTFï¼‰ã€‚</p>
<h2 id="UTF-8-ç¼–ç "><a href="#UTF-8-ç¼–ç " class="headerlink" title="UTF-8 ç¼–ç "></a>UTF-8 ç¼–ç </h2><p>å¦‚æœä¸€ä¸ªä»…åŒ…å«åŸºæœ¬ 7 ä½ ASCII å­—ç¬¦çš„ Unicode æ–‡ä»¶ï¼Œå¦‚æœæ¯ä¸ªå­—ç¬¦éƒ½ä½¿ç”¨ 2 å­—èŠ‚çš„åŸ Unicode ç¼–ç ä¼ è¾“ï¼Œå…¶ç¬¬ä¸€å­—èŠ‚çš„ 8 ä½å§‹ç»ˆä¸º 0 ã€‚è¿™å°±é€ æˆäº†æ¯”è¾ƒå¤§çš„æµªè´¹ã€‚</p>
<p>å¯¹äºè¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œè¿™æ˜¯ä¸€ç§å˜é•¿ç¼–ç ï¼Œå®ƒå°†åŸºæœ¬ 7 ä½ ASCII å­—ç¬¦ä»ç”¨ 7 ä½ç¼–ç è¡¨ç¤ºï¼Œå ç”¨ä¸€ä¸ªå­—èŠ‚ï¼ˆé¦–ä½è¡¥ 0ï¼‰ã€‚</p>
<p>è€Œé‡åˆ°ä¸å…¶ä»– Unicode å­—ç¬¦æ··åˆçš„æƒ…å†µï¼Œå°†æŒ‰ä¸€å®šç®—æ³•è½¬æ¢ï¼Œæ¯ä¸ªå­—ç¬¦ä½¿ç”¨ 1-3 ä¸ªå­—èŠ‚ç¼–ç ï¼Œå¹¶åˆ©ç”¨é¦–ä½ä¸º 0 æˆ– 1 è¿›è¡Œè¯†åˆ«ã€‚è¿™æ ·å¯¹ä»¥ 7 ä½ ASCII å­—ç¬¦ä¸ºä¸»çš„è¥¿æ–‡æ–‡æ¡£å°±å¤§å¤§èŠ‚çœäº†ç¼–ç é•¿åº¦ï¼ˆå…·ä½“æ–¹æ¡ˆå‚è§ UTF-8ï¼‰ã€‚</p>
<h2 id="UTF-16-ç¼–ç "><a href="#UTF-16-ç¼–ç " class="headerlink" title="UTF-16 ç¼–ç "></a>UTF-16 ç¼–ç </h2><p>ç±»ä¼¼çš„ï¼Œå¦ä¸€ä¸ªæµè¡Œçš„å¯å˜é•¿åº¦ç¼–ç æ–¹æ¡ˆæ˜¯ UTF-16ï¼Œå®ƒä½¿ç”¨ 2 ä¸ªæˆ–è€… 4 ä¸ªå­—èŠ‚æ¥å­˜å‚¨å­—ç¬¦ã€‚ç„¶è€Œï¼Œäººä»¬é€æ¸æ„è¯†åˆ° UTF-16 å¯èƒ½ä¼šæµªè´¹å­˜å‚¨ç©ºé—´ï¼Œä½†é‚£æ˜¯å¦ä¸€ä¸ªè¯é¢˜äº†ã€‚</p>
<h2 id="ç‹­ä¹‰çš„-Unicode-ç¼–ç "><a href="#ç‹­ä¹‰çš„-Unicode-ç¼–ç " class="headerlink" title="ç‹­ä¹‰çš„ Unicode ç¼–ç "></a>ç‹­ä¹‰çš„ Unicode ç¼–ç </h2><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç‹­ä¹‰çš„ Unicode ç¼–ç æ–¹å¼ä¸ ISO 10646 çš„é€šç”¨å­—ç¬¦é›†ï¼ˆUniversal Character Setï¼ŒUCSï¼‰æ¦‚å¿µç›¸å¯¹åº”ï¼Œç›®å‰å®é™…åº”ç”¨çš„ Unicode ç‰ˆæœ¬å¯¹åº”äº UCS-2 ï¼Œä½¿ç”¨ 16 ä½çš„ç¼–ç ç©ºé—´ã€‚ä¹Ÿå°±æ˜¯æ¯ä¸ªå­—ç¬¦å ç”¨ 2 ä¸ªå­—èŠ‚ã€‚</p>
<p>è¿™æ ·ç†è®ºä¸Šä¸€å…±æœ€å¤šå¯ä»¥è¡¨ç¤º 216 å³ 65536 ä¸ªå­—ç¬¦ã€‚åŸºæœ¬æ»¡è¶³å„ç§è¯­è¨€çš„ä½¿ç”¨ã€‚å®é™…ä¸Šå½“å‰ç‰ˆæœ¬çš„ Unicode å°šæœªå¡«æ»¡è¿™ 16 ä½ç¼–ç ï¼Œä¿ç•™äº†å¤§é‡ç©ºé—´ä½œä¸ºç‰¹æ®Šä½¿ç”¨æˆ–å°†æ¥æ‰©å±•ã€‚</p>
<p>ä»¥ Python ä¸ºä¾‹ï¼Œ<code>unicode(s,&#39;utf8&#39;)</code> æ‰€è¿”å›çš„ç»“æœå°±æ˜¯è¿™ç§ç‹­ä¹‰çš„ Unicode ç¼–ç ã€‚</p>
<p>åˆæ˜¯æ¢æµ·åœ¨<a href="https://www.zhihu.com/question/19817672/answer/13055185" target="_blank" rel="external">å»–é›ªå³°ç­”æ¡ˆ</a>çš„è¯„è®ºé‡Œæåˆ°:</p>
<blockquote>
<p>å»–é›ªå³°è¯´çš„ã€ŒUnicodeã€æŒ‡çš„æ˜¯ UCS-2ï¼ˆæ‰€ä»¥ä¸èƒ½æ”¹æˆã€ŒUTF-32ã€ï¼‰ã€‚å½“å¹´åªæœ‰ BMP çš„æ—¶å€™ UCS-2 å’Œ UTF-16 æ˜¯ç­‰ä»·çš„ï¼Œåˆè¢«ç§°ä½œã€ŒUnicodeã€ï¼ˆæ‰€ä»¥è¿™é‡Œä¸æ˜¯ã€ŒUnicode æ˜¯å­—ç¬¦é›†ï¼Œä¸æ˜¯ç¼–ç æ–¹å¼ã€è¿™ä¸ªé—®é¢˜ï¼Œåªæ˜¯ UCS-2 ä¹Ÿè¢«ç§°ä½œã€ŒUnicodeã€è€Œå·²ï¼‰ã€‚ä½†ç°åœ¨è¿™ç§ç”¨ã€ŒUnicodeã€æŒ‡ä»£ UCS-2/UTF-16 çš„åšæ³•å·²ç»è¿‡æ—¶äº†ï¼Œå¾ˆä¸åˆé€‚ã€‚</p>
</blockquote>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>ç®€å•æ€»ç»“ä¸€ä¸‹ï¼ŒUnicode æ˜¯ã€Œå­—ç¬¦é›†ã€è€Œä¸æ˜¯ã€Œç¼–ç ã€ã€‚ä½†ç”±äºå†å²åŸå› ï¼ŒæŸäº›æ—¶å€™æåˆ°çš„ã€ŒUnicode ç¼–ç ã€æŒ‡çš„æ˜¯æ›¾ç»å®šé•¿çš„ UCS-2/UTF-16ï¼ˆç°åœ¨ UTF-16 ä¹Ÿæ˜¯å˜é•¿ï¼‰ã€‚</p>
<p>ç”±äº UTF-8 å¯ä»¥å…¼å®¹ ASCIIï¼Œä¸”å…¶å˜é•¿ç‰¹æ€§èƒ½ç›¸å¯¹é«˜æ•ˆåœ°åˆ©ç”¨ç©ºé—´ï¼Œåœ¨åº”ç”¨æˆ–ä¼ è¾“è¿‡ç¨‹ä¸­ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯ UTF-8ã€‚ä¾‹å¦‚ Python shell ä¸­ str ä½¿ç”¨çš„å°±æ˜¯ ASCII(UTF-8)ã€‚</p>
<p>è€Œå†…å­˜ä¸€èˆ¬ä½¿ç”¨çš„æ˜¯è¿™ç§ã€ŒUnicode ç¼–ç ã€ï¼Œæ‰€ä»¥åœ¨è¿›è¡Œç¼–ç è½¬æ¢æ—¶ï¼Œé€šå¸¸å°†å„ç±»ç¼–ç <code>decode</code>æˆã€ŒUnicode ç¼–ç ã€ï¼Œåœ¨<code>encode</code>æˆæœ€ç»ˆç¼–ç å½¢å¼ã€‚</p>
<p>eg:</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=<span class="string">'åœ¨'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="string">'\xe5\x9c\xa8'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b=unicode(a,<span class="string">'utf8'</span>) // æˆ– b=a.decode(<span class="string">'utf8'</span>)ï¼Œå…¶ä¸­<span class="string">'utf-8'</span>ç­‰åŒäº<span class="string">'utf8'</span> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="string">u'\u5728'</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b.encode(<span class="string">'gbk'</span>)</span><br><span class="line"><span class="string">'\xd4\xda'</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ Python 2.x ç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²å®é™…ä¸Šæ˜¯å­—èŠ‚ä¸²ï¼Œè¿™ç§å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦é•¿åº¦ä¸º 1ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œç­‰åŒäº ASCIIã€‚ï¼ˆå‚è€ƒã€ŠPython Cookbookã€‹1.21ï¼‰</p>
<p>ä¸è¿‡åœ¨ Python 3.x ç‰ˆæœ¬ä¸­ï¼ŒæŠŠ â€˜xxxâ€™ å’Œ uâ€™xxxâ€™ ç»Ÿä¸€æˆäº† Unicode ç¼–ç ï¼Œå³å†™ä¸å†™å‰ç¼€ u éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œä»¥å­—èŠ‚å½¢å¼è¡¨ç¤ºçš„å­—ç¬¦ä¸²åˆ™å¿…é¡»åŠ ä¸Š b å‰ç¼€ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/06/AngularJS-ngResource-save/" itemprop="url">
                  AngularJS-ngResource-save
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-06T14:43:02+08:00" content="2016-07-06">
              2016-07-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/AngularJS/" itemprop="url" rel="index">
                    <span itemprop="name">AngularJS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/06/AngularJS-ngResource-save/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/06/AngularJS-ngResource-save/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Coursera AngularJS è¯¾ç¨‹çš„æœ€åä¸€ä¸ªä»»åŠ¡ï¼Œæ·»åŠ æäº¤ feedback åˆ° server çš„åŠŸèƒ½<br>ä¹‹å‰å·²ç»å®ç°äº†æ·»åŠ  feedback å¹¶ä¿å­˜åœ¨ client çš„åŠŸèƒ½<br>ç°åœ¨åªéœ€è¦åˆ©ç”¨<code>$resource</code>çš„<code>$save</code>æ–¹æ³•å°† feedback çš„ json å¯¹è±¡<code>post</code>åˆ° server   </p>
<p>æœ¬ä»¥ä¸ºç…§è‘«èŠ¦ç”»ç“¢å¾ˆç®€å•ï¼Œç»“æœæ€»æ˜¯ä¼šæŠ¥é”™å¦‚ä¸‹</p>
<blockquote>
<p>TypeError: feedbackFactory.getFeedbacks(â€¦).$save is not a function</p>
</blockquote>
<p>ä»”ç»†å¯¹ç…§<a href="https://docs.angularjs.org/api/ngResource/service/$resource" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>æ‰¾åˆ°åŸå› ï¼š</p>
<blockquote>
<p>The action methods on the class object or instance object can be invoked with the following parameters:</p>
<ul>
<li>HTTP GET â€œclassâ€ actions: Resource.action([parameters], [success], [error])</li>
<li>non-GET â€œclassâ€ actions: Resource.action([parameters], postData, [success], [error])</li>
<li>non-GET instance actions: instance.$action([parameters], [success], [error])</li>
</ul>
</blockquote>
<p>é—®é¢˜å‡ºåœ¨æˆ‘è¯•å›¾ä½¿ç”¨<code>non-GET &quot;class&quot; actions</code>ï¼Œå´åŠ äº†<code>$</code>ç¬¦å·ä¸”æ²¡æœ‰å¸¦ä¸Š<code>postData</code>   </p>
<p>æ‰€ä»¥è§£å†³æ–¹å¼æœ‰ä¸¤ç§</p>
<h1 id="non-GET-â€œclassâ€-actions"><a href="#non-GET-â€œclassâ€-actions" class="headerlink" title="non-GET â€œclassâ€ actions"></a>non-GET â€œclassâ€ actions</h1><figure class="highlight js"><figcaption><span>services.js</span></figcaption><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">        .constant(<span class="string">"baseURL"</span>, <span class="string">"http://localhost:3000/"</span>)</span><br><span class="line">        .service(<span class="string">'feedbackFactory'</span>, [<span class="string">'$resource'</span>, <span class="string">'baseURL'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$resource,baseURL</span>) </span>&#123; </span><br><span class="line"></span><br><span class="line">            <span class="keyword">this</span>.getFeedbacks = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> $resource(baseURL+<span class="string">"feedback"</span>,<span class="literal">null</span>);</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">        &#125;])</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><figcaption><span>controllers.js</span></figcaption><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">        .controller(<span class="string">'FeedbackController'</span>, [<span class="string">'$scope'</span>, <span class="string">'feedbackFactory'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, feedbackFactory</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            $scope.feedbacks = feedbackFactory.getFeedbacks().query(</span><br><span class="line">                <span class="function"><span class="keyword">function</span>(<span class="params">response</span>)</span>&#123;</span><br><span class="line">                    $scope.feedbacks = response;</span><br><span class="line">                    <span class="built_in">console</span>.log($scope.feedbacks);</span><br><span class="line">                &#125;</span><br><span class="line">            );</span><br><span class="line"></span><br><span class="line">            $scope.sendFeedback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">console</span>.log($scope.feedbacks);</span><br><span class="line"></span><br><span class="line">                $scope.feedbacks.push($scope.feedback);</span><br><span class="line">                feedbackFactory.getFeedbacks().save($scope.feedback);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> ($scope.feedback.agree &amp;&amp; ($scope.feedback.mychannel == <span class="string">""</span>)) &#123;</span><br><span class="line">                    $scope.invalidChannelSelection = <span class="literal">true</span>;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">'incorrect'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    $scope.invalidChannelSelection = <span class="literal">false</span>;</span><br><span class="line">                    $scope.feedback = &#123;mychannel:<span class="string">""</span>, firstName:<span class="string">""</span>, lastName:<span class="string">""</span>, agree:<span class="literal">false</span>, email:<span class="string">""</span> &#125;;</span><br><span class="line">                    $scope.feedbackForm.$setPristine();</span><br><span class="line">                    <span class="built_in">console</span>.log($scope.feedback);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;])</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h1 id="non-GET-instance-actions"><a href="#non-GET-instance-actions" class="headerlink" title="non-GET instance actions"></a>non-GET instance actions</h1><figure class="highlight js"><figcaption><span>service.js</span></figcaption><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">        .constant(<span class="string">"baseURL"</span>, <span class="string">"http://localhost:3000/"</span>)</span><br><span class="line">        .service(<span class="string">'feedbackFactory'</span>, [<span class="string">'$resource'</span>, <span class="string">'baseURL'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$resource,baseURL</span>) </span>&#123; </span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> $resource(baseURL+<span class="string">"feedback/:id"</span>,<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        &#125;])</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><figcaption><span>controllers.js</span></figcaption><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">        .controller(<span class="string">'FeedbackController'</span>, [<span class="string">'$scope'</span>, <span class="string">'feedbackFactory'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope, feedbackFactory</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// $scope.feedbacks = feedbackFactory.getFeedbacks().query(</span></span><br><span class="line">            <span class="comment">//     function(response)&#123;</span></span><br><span class="line">            <span class="comment">//         $scope.feedbacks = response;</span></span><br><span class="line">            <span class="comment">//         console.log($scope.feedbacks);</span></span><br><span class="line">            <span class="comment">//     &#125;</span></span><br><span class="line">            <span class="comment">// );</span></span><br><span class="line"></span><br><span class="line">            $scope.sendFeedback = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">var</span> newFeedback = <span class="keyword">new</span> feedbackFactory($scope.feedback);</span><br><span class="line">                newFeedback.$save();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// $scope.feedbacks.push($scope.feedback);</span></span><br><span class="line">                <span class="comment">// feedbackFactory.getFeedbacks().save($scope.feedback);</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> ($scope.feedback.agree &amp;&amp; ($scope.feedback.mychannel == <span class="string">""</span>)) &#123;</span><br><span class="line">                    $scope.invalidChannelSelection = <span class="literal">true</span>;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">'incorrect'</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    $scope.invalidChannelSelection = <span class="literal">false</span>;</span><br><span class="line">                    $scope.feedback = &#123;mychannel:<span class="string">""</span>, firstName:<span class="string">""</span>, lastName:<span class="string">""</span>, agree:<span class="literal">false</span>, email:<span class="string">""</span> &#125;;</span><br><span class="line">                    $scope.feedbackForm.$setPristine();</span><br><span class="line">                    <span class="built_in">console</span>.log($scope.feedback);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;])</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<p>ç”±äºç¬¬äºŒç§æ–¹å¼æ²¡æœ‰åŠ ä¸Š<code>[success], [error]</code>å¤„ç†ï¼Œçœ‹èµ·æ¥è¦ç®€å•è®¸å¤š<br><a href="http://stackoverflow.com/questions/36558499/angularjs-post-changes-to-the-server-using-resource/36564415#36564415" target="_blank" rel="external">Stackoverflow</a> é‡Œä¸€ä½ç–‘ä¼¼è¯¥è¯¾ç¨‹çš„åŒå­¦ç”¨çš„å°±æ˜¯è¿™ç§æ–¹å¼<br>ä¸è¿‡ç›¸å¯¹æ¥è¯´ç¬¬ä¸€ç§æ–¹å¼è·Ÿå…¶ä»–éƒ¨åˆ†ä»£ç é£æ ¼æ›´ç»Ÿä¸€   </p>
<p>å¤§è‡´å¦‚æ­¤.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/05/brackets-live-preview-gulp/" itemprop="url">
                  brackets-live-preview-gulp
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-05T18:23:57+08:00" content="2016-07-05">
              2016-07-05
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/AngularJS/" itemprop="url" rel="index">
                    <span itemprop="name">AngularJS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/07/05/brackets-live-preview-gulp/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/05/brackets-live-preview-gulp/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ä»Šå¤©å­¦ä¹  Coursera çš„ AngularJS è¯¾ç¨‹æ—¶å°è¯•ä½¿ç”¨<code>ng-include</code>æ·»åŠ æ¨¡æ¿<br>å‘è§‰ Brackets çš„ Live Preview åœ¨ Chrome é‡Œæ€»æ˜¯æ— æ³•æ­£å¸¸æ˜¾ç¤º   </p>
<p><a href="http://blog.csdn.net/aitangyong/article/details/43490117" target="_blank" rel="external">è¿™ç¯‡åšæ–‡</a>æåˆ°ï¼š</p>
<blockquote>
<p>chromeæç¤ºå¾ˆæ˜æ˜¾ï¼šä¸èƒ½è·¨åŸŸè®¿é—®ã€‚é€šè¿‡ä¸Šé¢çš„é”™è¯¯æç¤ºï¼Œå¯ä»¥çœ‹åˆ°:ä½¿ç”¨ng-includeæŒ‡ä»¤çš„æ—¶å€™ï¼Œä¼šç”¨åˆ°AJAXè¯·æ±‚XMLHttpRequestã€‚ä½†æ˜¯æˆ‘ä»¬æ˜¯ç›´æ¥ç”¨æµè§ˆå™¨æ‰“å¼€çš„parent.htmlï¼Œå¹¶æ²¡æœ‰é€šè¿‡webå®¹å™¨è®¿é—®ï¼Œæ‰€ä»¥å­˜åœ¨è·¨åŸŸè®¿é—®é—®é¢˜ï¼ŒåŠ è½½child.htmlä¹Ÿå°±å¤±è´¥äº†ã€‚è§£å†³åŠæ³•å¾ˆç®€å•ï¼šå°†ä»£ç éƒ¨ç½²åˆ°tomcatç­‰webå®¹å™¨ä¸‹ï¼Œé€šè¿‡httpè®¿é—®å³å¯ã€‚</p>
</blockquote>
<p><a href="https://www.coursera.org/learn/angular-js/discussions/weeks/3/threads/rWCY3qGmEeWF6gpqp4BTmQ" target="_blank" rel="external">Coursera Discussions</a> é‡Œä¹Ÿæœ‰äººæåˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥æœ‰ 3 ç§è§£å†³æ–¹å¼</p>
<h1 id="gulp"><a href="#gulp" class="headerlink" title="gulp"></a>gulp</h1><p>ä¹‹å‰çš„è¯¾ç¨‹åˆšå¥½æåˆ° gulp å¯ä»¥ä½¿ç”¨ brower-sync å»ºç«‹ä¸€ä¸ª Web å®¹å™¨æ¥è®¿é—®é¡¹ç›®<br>æŠŠ<code>Gulpfile.js</code>ç•¥ä½œä¿®æ”¹ä¹‹å<code>gulp watch</code>å´ä»ç„¶æ— æ³•è®¿é—®   </p>
<p>åœ¨ stackoverflow (<a href="http://stackoverflow.com/questions/32171725/chrome-cant-open-localhost3000-with-gulp-browsersync?rq=1" target="_blank" rel="external">1</a>, <a href="http://stackoverflow.com/questions/30233218/browser-sync-is-blocked-by-chrome-csp" target="_blank" rel="external">2</a>) æ‰¾åˆ°ç­”æ¡ˆï¼Œåˆæ˜¯ Chrome çš„é”…ï¼Œè§¦å‘äº†å…¶<code>Content-Security-Policy</code>   </p>
<p>ä¿®æ”¹ç«¯å£å·å³å¯è§£å†³</p>
<h1 id="Brackets-Live-Preview"><a href="#Brackets-Live-Preview" class="headerlink" title="Brackets Live Preview"></a>Brackets Live Preview</h1><p>å°è¯•ä¹‹åå‘ç°ï¼Œæˆ‘åœ¨é¢„è§ˆå•ä¸ª html æ—¶ï¼Œä½¿ç”¨çš„æ˜¯<code>file</code>åè®®ï¼Œåœ¨ Chrome é‡Œæ— æ³•è·¨åŸŸè®¿é—®<br>è€Œä½¿ç”¨ Brackets æ‰“å¼€æ•´ä¸ªé¡¹ç›®æ—¶ï¼ŒLive Preview å°†é¡¹ç›®æ”¾å…¥äº†è‡ªå»ºçš„ Web å®¹å™¨é‡Œï¼Œä½¿ç”¨çš„æ˜¯<code>http</code>åè®®ï¼Œå³å¯åœ¨ Chrome ä¸­æ­£å¸¸è·¨åŸŸè®¿é—®</p>
<h1 id="http-server-or-json-server"><a href="#http-server-or-json-server" class="headerlink" title="http-server or json-server"></a>http-server or json-server</h1><p>ä½¿ç”¨ node å®‰è£…å…¶å®ƒå°å‹ Web å®¹å™¨åæ”¾å…¥è¿è¡Œä¹Ÿå¯è§£å†³</p>
<p>å¤§è‡´å¦‚æ­¤.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Air9" />
          <p class="site-author-name" itemprop="name">Air9</p>
          <p class="site-description motion-element" itemprop="description">ãªãœãƒ™ã‚¹ãƒˆã‚’å°½ãã—ãŸã®ã‹</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">35</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>
          
          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">72</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Air9</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  


  




<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>

  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=0.5.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=0.5.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=0.5.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"answerrrrrrrrr"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  


</body>
</html>
